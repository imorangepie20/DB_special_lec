# 초롱대학교 데이터베이스 특강

## 제 9강: 실전 대비 생존 전략! DBMS별 백업(Backup)/복원(Restore)과 NoSQL의 세계

초롱대학교 시스템 구축 강의는 끝났지만, 실제 운영(운영(운영자/DBA) 단계에서 발생할 수 있는 가장 아찔한 상황을 상상해봅시다. 

**"새벽 3시, 초롱대학교 전산실 서버에 불이 났습니다! 학생 데이터 6,000건이 날아갈 위기입니다!"**

시스템에서 가장 중요한 것은 데이터 그 자체입니다. 이런 재난에 대비하는 **'백업과 복원'** 방법, 그리고 관계형 데이터베이스(RDBMS)의 한계를 뛰어넘는 최신 기술인 **'NoSQL'**에 대해 부록(제 9강)으로 다뤄보겠습니다.

---

### 1. 만약을 대비한 보험: 백업(Backup)과 복원(Restore)

백업은 현재의 데이터를 안전한 곳(다른 하드디스크, 클라우드, 외장하드 등)에 복사본으로 만들어두는 작업입니다. 복원은 사고가 났을 때 이 복사본을 다시 시스템에 덮어씌워 예전 상태로 되돌리는 작업입니다.

사용하는 DBMS(데이터베이스 관리 시스템)의 종류에 따라 사용하는 도구와 명령어가 조금씩 다릅니다. 실무에서 가장 많이 만나는 3대장 위주로 살펴보겠습니다.

#### ① MySQL / MariaDB (초롱대학교에서 많이 쓰는 가볍고 강력한 무료 DB)
* **백업 명령어 (`mysqldump`):** 테이블의 뼈대(DDL)와 데이터(DML)를 SQL 문장들의 연속 파일(.sql)로 깔끔하게 뽑아줍니다.
  ```bash
  # 'chorong_db'라는 데이터베이스 전체를 backup.sql 파일로 내보내기 
  mysqldump -u 사용자명 -p chorong_db > backup.sql
  ```
* **복원 명령어 (`mysql`):** 뽑아두었던 .sql 파일을 다시 빈 데이터베이스에 밀어 넣습니다.
  ```bash
  # 백업해둔 backup.sql을 빈 'chorong_db'에 쏟아 넣기
  mysql -u 사용자명 -p chorong_db < backup.sql
  ```

#### ② Oracle (대기업/금융권에서 주로 쓰는 무겁고 비싼 최강의 DB)
오라클은 크기가 워낙 커서 전용 펌프 도구 모터(Data Pump)나 전문 복구 관리자(RMAN)를 사용합니다.
* **백업 명령어 (`expdp` - Export Data Pump):** 빠르게 압축된 포맷(.dmp)으로 데이터를 내보냅니다.
  ```bash
  expdp system/비밀번호 DIRECTORY=백업폴더명 DUMPFILE=chorong_backup.dmp FULL=y
  ```
* **복원 명령어 (`impdp` - Import Data Pump):**
  ```bash
  impdp system/비밀번호 DIRECTORY=백업폴더명 DUMPFILE=chorong_backup.dmp FULL=y
  ```

#### ③ PostgreSQL (최근 실무에서 엄청난 인기를 끄는 코끼리 DB)
* **백업 명령어 (`pg_dump`):**
  ```bash
  pg_dump -U 사용자명 -d chorong_db -f backup_file.sql
  ```
* **복원 명령어 (`psql` 또는 `pg_restore`):**
  ```bash
  psql -U 사용자명 -d chorong_db -f backup_file.sql
  ```

---

### 2. 관계형 DB(RDBMS)의 한계와 NoSQL의 등장

우리가 지금까지 배운 Oracle, MySQL 같은 관계형 데이터베이스(RDBMS)는 **'행과 열이 정해진 엄격한 엑셀 표(테이블)'** 같습니다. 데이터의 정확성(정규화)과 안전함(트랜잭션)을 보장하는 데는 최고입니다.

**초롱대학교의 새로운 요구사항:**
*"우리 초롱대학교 학생들이 쓰는 익명 채팅방(비정형 데이터)을 하나 만들고 싶은데, 카카오톡처럼 초당 수만 건의 대화가 쏟아질 걸세. 게다가 채팅에는 글씨뿐만 아니라 사진, 이모티콘, 영상 링크 등 형식도 제각각이지."*

* **RDBMS의 한계:** 
  형식이 고정된 테이블에는 이런 채팅 기록(비정형 데이터)을 폭발적인 속도로 집어넣기가 매우 버겁습니다. 서버 성능을 늘리기 위해 비싼 부품을 사서 끼우는 것(Scale-up)에도 물리적인 한계가 있습니다.

* **NoSQL (Not Only SQL)의 구원:** 
  표(Table) 형태를 과감히 버리고, 데이터를 엄청나게 빠르고 유연하게 저장하기 위해 등장했습니다.
  "데이터 베이스의 틀을 깨버리자! 확장하기도 쉽고(여러 대의 싼 컴퓨터를 병렬로 연결: Scale-out), 데이터 형태도 자유롭게 저장하자!"

### 3. 대표적인 NoSQL의 3가지 유형

1. **문서 지향형 (Document Database) - 예: `MongoDB`**
   * 데이터를 엄격한 표(Table) 대신, 자유로운 **JSON 문서(객체)** 형태로 뭉텅이 단위로 저장합니다.
   * "학생 정보에 갑자기 '인스타그램 주소'나 '좋아하는 음식 리스트'를 추가하고 싶어!" 라고 할 때, RDBMS처럼 테이블 뼈대(구조)를 다 바꿀 필요가 없습니다. 그냥 문서 안에 줄 하나 추가해 넣으면 끝입니다! 매우 유연합니다.
2. **키-값 지향형 (Key-Value Database) - 예: `Redis`**
   * 영한사전처럼 `Key`(단어)를 주면 `Value`(뜻)를 무조건 빛의 속도로 뱉어냅니다. 
   * 매우 직관적이고 복잡한 연산이 없어서 속도가 압도적으로 빠르기 때문에, 주로 **임시 캐시(Cache, 자주 쓰거나 빠르게 보여줘야 하는 데이터)** 용도로 많이 씁니다. (예: 초롱대학교 수강신청 대기열 순번표, 인기 검색어 순위 등)
3. **그래프 지향형 (Graph Database) - 예: `Neo4j`**
   * 데이터들 간의 **'관계(네크워크 구성)'**를 그물망처럼 저장하는데 특화되어 있습니다.
   * "초롱 학생의 페이스북 친구의 친구가 누구인지 추천해줘!" 같이 복잡한 인맥도, 추천 알고리즘 등을 빠르게 연결 탐색할 때 씁니다.

---

### 📝 요약 및 결론

9강에서는 데이터 생명 유지를 위한 최후의 보루인 **DBMS별(MySQL, Oracle, PostgreSQL) 백업과 복원 명령어**, 그리고 정형화된 틀을 벗어나 막대한 트래픽과 유연한 데이터를 처리하기 위해 탄생한 **NoSQL(MongoDB, Redis 등)**의 개념을 살펴 보았습니다.

실제 기업에서는 "RDBMS가 최고다, NoSQL이 최고다!"가 아니라,
**결제나 학생 정보(돈, 학점 등 틀리면 큰일 나는 것)는 RDBMS(MySQL)에 안전하게 저장**하고, **수만 건의 빠른 조회나 자유로운 형태의 채팅 기록은 NoSQL(Redis, MongoDB)을 함께 조합(Multi-Model)해서 건축**하는 것이 현대 백엔드 설계의 핵심 트렌드입니다. 

초롱대학교 서버실의 안녕을 기원합니다! 추가로 궁금하신 부분이나 다른 주제가 있다면 언제든 말씀해 주세요.
